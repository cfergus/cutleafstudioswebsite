<div [formGroup]="knifeImageForm">

  <div>
    <mat-progress-bar
      mode="determinate"
      [value]="uploadPercent$ | async"
      max="100">
    </mat-progress-bar>
  </div>

  <section>
    <label for="file">File:</label>
    <input type="file" (change)="previewFile($event)" accept=".png,.jpg,.sketch" />
  </section>

  <!-- <section class="upload-bar spacing-container" *ngIf="!uploaded"> -->
    <button mat-icon-button color="primary" (click)="uploadFile()" [disabled]="!(previewURL$ | async)">
      <mat-icon aria-label="Upload Image">file_upload</mat-icon>
    </button>
  <!-- </section> -->

  <!-- <section class="delete-bar spacing-container" *ngIf="uploaded"> -->
    <button mat-icon-button (click)="deleteUpload()" [disabled]="!(uploadURL$ | async)">
      <mat-icon aria-label="Delete Image">delete</mat-icon>
    </button>
  <!-- </section> -->

  <div *ngIf="uploadURL$ | async; let uploadSrc">
    <a [href]="uploadSrc">Your link to your file!</a>
  </div>

  <mat-form-field>
    <input matInput type="text" formControlName="description" placeholder="Image Description">
  </mat-form-field>

  <section *ngIf="uploadState$ | async; let state">
    <button (click)="pauseUpload()" [disabled]="state === 'paused'"> Pause </button>
    <button (click)="cancelUpload()" [disabled]="!(state === 'paused' || state === 'running')"> Cancel </button>
    <button (click)="resumeUpload()" [disabled]="state === 'running'"> Resume </button>
  </section>

  <div class="preview" *ngIf="previewURL$ | async; let previewSrc">
    <img [src]="previewSrc" />
  </div>

</div>
